<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Amove | Box</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp"/>
  <link rel="alternate icon" type="image/png" href="assets/i/favicon.png">
  <link rel="stylesheet" href="assets/css/amazeui.min.css"/>
  <style>
    @media only screen and (min-width: 1200px) {
      .blog-g-fixed {
        max-width: 1200px;
      }
    }

    @media only screen and (min-width: 641px) {
      .blog-sidebar {
        font-size: 1.4rem;
      }
    }

    .blog-main {
      padding: 20px 0;
    }

    .blog-title {
      margin: 10px 0 20px 0;
    }

    .blog-meta {
      font-size: 14px;
      margin: 10px 0 20px 0;
      color: #222;
    }

    .blog-meta a {
      color: #27ae60;
    }

    .blog-pagination a {
      font-size: 1.4rem;
    }

    .blog-team li {
      padding: 4px;
    }

    .blog-team img {
      margin-bottom: 0;
    }

    .blog-content img,
    .blog-team img {
      max-width: 100%;
      height: auto;
    }

    .blog-footer {
      padding: 10px 0;
      text-align: center;
    }
  </style>
</head>
<body>
  <header class="am-topbar am-topbar-inverse admin-header">
    <div class="am-topbar-brand">
      <strong><a href="list.html">Password Box</a></strong>  
    </div>
  </header>

<div class="am-g am-g-fixed blog-g-fixed">
  <div class="am-u-md-8">
    <article class="blog-main">
      <h3 class="am-article-title blog-title">
        <span id=''>Create Box</span>
      </h3>
      

      <div class="am-g blog-content">
        <div class="am-u-lg-7">
          <div class="am-form am-form-horizontal">
            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="text" id="BelongTo" value="amove" placeholder="BelongTo" disabled>
              </div>
            </div>

            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="text" id="Title" placeholder="Title">
              </div>
            </div>

            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="text" id="Url" placeholder="Url">
              </div>
            </div>

            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="text" id="Username" placeholder="Username">
              </div>
            </div>
          
            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="password" id="Password" placeholder="Password">
              </div>
            </div>

            <div class="am-form-group">
              <div class="am-u-sm-12">
                <input type="password" id="Token" placeholder="Token">
              </div>
            </div>

            <div class="am-form-group">
              <div class="am-u-sm-12">
                <textarea id="Description" placeholder="Description"> </textarea>
              </div>
            </div>
          
            <div class="am-form-group">
              <div class="am-u-sm-10 am-u-sm-offset-2">
                <button class="am-btn am-btn-default" id='subBtn'>Submit</button>
              </div>
            </div>
          </div>

          
        </div>
        <div class="am-u-lg-5">
          <p><img src="https://s4.ax1x.com/2022/01/14/73bdm9.png"></p>
        </div>
      </div>
      
    </article>

    <hr class="am-article-divider blog-hr">
  </div>

  <div class="am-u-md-4 blog-sidebar">
    <div class="am-panel-group">
      <section class="am-panel am-panel-default">
        <div class="am-panel-hd">Encrypt</div>
        <div class="am-panel-bd">
          <p></p>
            <div class="am-input-group am-input-group-sm">
              <input type="text" id='aeskey' class="am-form-field">
            </div>
        </div>
      </section>
      

      <section class="am-panel am-panel-default">
        <div class="am-panel-hd">You should know</div>
        <div class="am-panel-bd">
          <ul class=" blog-team">
            <li>The message should be encrypt</li>
            <li><a href="mk.html" target="_blank">Markdown</a></li>
          </ul>
        </div>
      </section>
    </div>
  </div>

</div>

<footer class="blog-footer">
  <p>Password Box<br/>
    <small>© Copyright amove.</small>
  </p>
</footer>

<!--[if lt IE 9]>
<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->

<!--[if (gte IE 9)|!(IE)]><!-->
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='js/crypto-js.min.js'></script>
<script src='js/mycrypto.js'></script>
<!--<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
<script>

$("#subBtn").click(function(){
  var desKey = $("#aeskey").val();
  if(desKey===""){
    alert('Des Key Needed!');
    return;
  }
  
  var message = $("#Url").val();
  var Url = encryptDes(message,desKey);

  message = $("#Username").val();
  var Username = encryptDes(message,desKey);

  message = $("#Password").val();
  var Password = encryptDes(message,desKey);

  message = $("#Description").val();
  var Description = encryptDes(message,desKey);

  var Title = $("#Title").val();
  var Token = $("#Token").val();
  var BelongTo = $("#BelongTo").val();
  //console.log(Url,Username,Password,Description);
  let boxdata = {};
  boxdata["Url"] = Url;
  boxdata["Username"] = Username;
  boxdata["Password"] = Password;
  boxdata["Description"] = Description;
  boxdata["BelongTo"] = BelongTo;
  boxdata["Title"] = Title;
  let data = {};
  data["Token"] = Token;
  data["Box"] = boxdata;
  
  $.ajax({
      type: "POST",
      url: "http://1.116.45.49:5233/box/create",
      contentType: "application/json;charset=utf-8",
      data:JSON.stringify(data),
      dataType: "json",
      success:function (message) {
          if (message.data.code==200){
            alert("创建成功")
          }else {
            alert("提交失败"+JSON.stringify(message));
          }
          location.href="list.html";
      },
      error:function (message) {
          alert("提交失败"+JSON.stringify(message));
      }
  });
});


</script>
</body>
</html>
